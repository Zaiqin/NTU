package mypackage;
import java.net.*;

public class Rfc865UdpServer { 
	
	public static void main(String[] argv) { 
		
		//
		// 1. Open UDP socket at well-known port 
		//
		DatagramSocket socket;
		try {
			socket = new DatagramSocket(17); // QOTD Port is 17
			System.out.println("Socket is created on server file");
		} catch (SocketException e) {
			e.printStackTrace();
            System.exit(-1);
		}
		
		while (true) {
			try {
				byte[] buf = new byte[512];
				//
				// 2. Listen for UDP request from client 
				//
				DatagramPacket request = new DatagramPacket(buf, buf.length); 
				socket.receive(request); 
				//
				// 3. Send UDP reply to client 
				//
                String replyContent = QUOTE;
                byte[] replyBuf = replyContent.getBytes("UTF-8");
                System.out.println("Reply content: " + replyContent);
				DatagramPacket reply = new DatagramPacket(); 
				socket.send(reply);
				
			} catch (IOException e) {} 
		} 
	}
}